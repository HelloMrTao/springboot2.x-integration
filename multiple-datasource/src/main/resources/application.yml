server:
  port: 8188

spring:
  datasource:
    dynamic:
      primary: db1 # \u914D\u7F6E\u9ED8\u8BA4\u6570\u636E\u5E93
      datasource:
        db1: # \u6570\u636E\u6E901\u914D\u7F6E
          url: jdbc:mysql://localhost:3306/db1?characterEncoding=utf8&useUnicode=true&useSSL=false&serverTimezone=GMT%2B8
          username: root
          password: 123456
          driver-class-name: com.mysql.cj.jdbc.Driver
        db2: # \u6570\u636E\u6E902\u914D\u7F6E
          url: jdbc:mysql://localhost:3306/db2?characterEncoding=utf8&useUnicode=true&useSSL=false&serverTimezone=GMT%2B8
          username: root
          password: 123456
          driver-class-name: com.mysql.cj.jdbc.Driver
      durid:
        initial-size: 1
        max-active: 20
        min-idle: 1
        max-wait: 60000 # \u5355\u4F4D\u662F\u6BEB\u79D2
        time-between-eviction-runs-millis: 60000 # \u8FD9\u4E2A\u4E0B\u9762\u7684\u4E0D\u914D\u7F6E\u4E5F\u662F\u53EF\u4EE5\u7684, \u4E0D\u914D\u7F6E\u5C31\u4E0D\u7528\u53BB\u5199druid\u7684config, \u4E5F\u6CA1\u6709\u5BF9\u5E94\u76D1\u63A7\u529F\u80FD
        min-evictable-idle-time-millis: 300000
        validationQuery: SELECT 1 FROM DUAL
        testWhileIdle: true
        test-on-borrow: false
        test-on-return: false
        pool-prepared-statements: true
        filters: stat,wall # \u914D\u7F6E\u76D1\u63A7\u7EDF\u8BA1\u62E6\u622A\u7684filters\uFF0C\u53BB\u6389\u540E\u76D1\u63A7\u754C\u9762sql\u65E0\u6CD5\u7EDF\u8BA1\uFF0C'wall'\u7528\u4E8E\u9632\u706B\u5899
        maxPoolPreparedStatementPerConnectionSize: 20
        seGlobalDataSourceStat: true
        connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500
  autoconfigure:
    exclude: com.alibaba.druid.spring.boot.autoconfigure.DruidDataSourceAutoConfigure # \u53BB\u9664druid\u914D\u7F6E, \u5982\u679C\u4E0D\u8BBE\u7F6E, \u5219\u5728\u542F\u52A8\u7C7B\u8BBE\u7F6E@SpringBootApplication(exclude = DruidDataSourceAutoConfigure.class)
